@startuml
!include https://raw.githubusercontent.com/craft-coder/plantuml-styles/main/styles/modern-style.plantuml

interface BouwsteenController {
    +voegBouwsteenToe(request: BouwsteenRequest): ResponseEntity<Bouwsteen>
    +verwijderBouwsteen(bouwsteenId: String): ResponseEntity<Void>
    +haalBouwsteenOp(bouwsteenId: String): ResponseEntity<Bouwsteen>
    +haalAlleBouwstenenOpVoorTrip(tripId: String): ResponseEntity<List<Bouwsteen>>
}

interface BouwsteenFactory {
    +createBouwsteen(type: String, details: Map<String, Object>): Bouwsteen
}

class BouwsteenService {
    +createBouwsteen(type: String, details: Map<String, Object>): Bouwsteen
    +deleteBouwsteen(bouwsteenId: Long): void
    +getBouwsteenById(bouwsteenId: Long): Optional<Bouwsteen>
}

class BouwsteenRepository {
    +save(bouwsteen: Bouwsteen): void
    +delete(bouwsteenId: Long): void
    +findById(bouwsteenId: Long): Optional<Bouwsteen>
}

class TripService {
    +addBouwsteenToTrip(tripId: Long, bouwsteen: Bouwsteen): void
    +removeBouwsteenFromTrip(tripId: Long, bouwsteenId: Long): void
    +getBouwstenenForTrip(tripId: Long): List<Bouwsteen>
}

class ApiService {
    +boekOvernachting(overnachting: Overnachting): BookingInfo
    +boekVervoer(vervoer: Vervoer): TransportInfo
}

interface Bouwsteen {
    +getType(): String
    +toonDetails(): void
}

class Overnachting {
    +getType(): String
    +toonDetails(): void
}

class Vervoer {
    +getType(): String
    +toonDetails(): void
}

Bouwsteen <|-- Overnachting : implements
Bouwsteen <|-- Vervoer : implements

BouwsteenController ..> BouwsteenFactory : uses
BouwsteenController ..> BouwsteenService : delegates
BouwsteenService ..> BouwsteenRepository : uses
BouwsteenRepository ..> Bouwsteen : handles
TripService ..> BouwsteenService : uses
ApiService ..> TripService : interacts

@enduml
