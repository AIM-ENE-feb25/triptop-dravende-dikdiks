@startuml

!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Sequence.puml

Container(c1, "TripTop-applicatie", "JavaScript/React", "Provides all of the Internet banking functionality to customers via their web browser.")
Container(c2, "BookTripController", "Spring MVC Applicatie")
Container(c3, "API Gateway", "Gateway for API's", "Verbind backend met API's")
Container(c4, "SecurityProxy", "")
Container(c5, "BookinCOM", "")
Container(c6, "Validatie", "")
Container(c7, "Logging", "")


Rel(c1, c2, "Stuurt reisgegevens op", "JSON/HTTP")
Rel(c2, c3, "Stuurt reisgegevens op", "")
Rel(c3, c4, "Stuurt reisgegevens op", "")
Rel(c4, c5, "Stuurt reisgegevens op", "JSON/HTTP")
Rel(c5, c4, "Geeft response", "JSON/HTTP")
Rel(c4, c6, "Valideert response", "")
Rel(c6, c7, "Logt response", "")
Rel(c6, c3, "Stuurt response API na validatie door", "")
Rel(c3, c2, "Stuurt API response door", "")
Rel(c2, c1, "Stuurt API response door", "")

'Backend checkt of token valide is
'Rel(c3, c5, " ", " ")


SHOW_LEGEND()
@enduml
